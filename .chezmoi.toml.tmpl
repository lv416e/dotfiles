# chezmoi configuration template

# Age encryption (must be at top level)
encryption = "age"

[data]
    name = "{{ output "git" "config" "user.name" | trim }}"
    email = "{{ output "git" "config" "user.email" | trim }}"
    github_token = "{{ onepasswordRead "op://Personal/GitHub Classic PAT/credential" }}"

# Zsh configuration variant
# Supported values: "modular" (default, optimized multi-file config) or "monolithic" (single-file config)
[data.zsh]
    variant = "monolithic"
    multiplexer = "tmux"

# Difftastic integration
# Controls conditional rendering of difftastic aliases in .gitconfig
[data.difftastic]
    enabled = true

# 1Password integration for secrets management
# Requires: 1password-cli (brew install --cask 1password-cli)
# Usage in .tmpl files: onepasswordRead "op://vault/item/field"
# See docs/SECRETS_MANAGEMENT.md for examples
[data.onepassword]
    vault = "Personal"  # Change this to your 1Password vault name

[onepassword]
    mode = "account"  # Options: "account", "connect", "service"

[edit]
    command = "nvim"
    apply = true

[add]
    secrets = "error"

[git]
    autoCommit = true
    autoPush = true

[merge]
    command = "nvim"
    args = ["-d", "{{ "{{ .Destination }}" }}", "{{ "{{ .Source }}" }}"]

# Age encryption configuration
# Generate your own key: chezmoi age-keygen --output ~/.config/chezmoi/key.txt
# Replace the recipient below with your public key from age-keygen output
# Usage: chezmoi add --encrypt <file>
[age]
    identity = "{{ .chezmoi.homeDir }}/.config/chezmoi/key.txt"
    recipient = "age14t9x0zwv2adeujgjryk33s4f7wcxmsn7y7ws65hz7fs80fw9rfeqk8a4rg"  # REPLACE WITH YOUR KEY